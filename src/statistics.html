<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Statistics</title>
    <link rel="stylesheet" href="./assets/css/reset.css">
    <link rel="stylesheet" href="./assets/css/screen.css">
    <script defer src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="assets/js/main.js" type="module"></script>
    <script defer src="assets/js/api.js"></script>
    <script src="assets/js/pages/statistics.js" type="module"></script>
</head>
<body>
<div id="app" v-cloak>
    <header-component></header-component>
    <main>
        <nav-component></nav-component>
        <subscription-component></subscription-component>
        <div class="statistics">
            <ul>
                <li class="statistics-nav" :class="{ 'active' : barTypesReady}" @click="toggleTypes">Frequency of types</li>
                <li class="statistics-nav" :class="{ 'active' : pieReady}" @click="togglePie">Incidents with bystanders</li>
                <li class="statistics-nav" :class="{ 'active' : barBystandersReady}" @click="toggleBystanders">Best bystanders</li>
                <li class="statistics-nav" :class="{ 'active' : doughnutValidationReady}" @click="toggleValidationDoughnut">Validation frequency</li>
            </ul>
            <div class="loading-stats"></div>
            <section v-show="barTypesReady">
                <h2>Frequency of types</h2>
                <p>There have been <strong>{{allIncidentsLength}}</strong> incidents this year </p>
                <div class="loading-bars">
                    <canvas id="bar-chart-types"></canvas>
                </div>
            </section>
            <section v-show="pieReady">
                <h2>Incidents with bystanders</h2>
                <div class="loading-pie">
                    <canvas id="pie-chart-bystanders"></canvas>
                </div>
            </section>
            <section v-show="barBystandersReady">
                <h2>Best bystanders</h2>
                <div class="loading-bars2">
                    <canvas id="bar-chart-bystanders"></canvas>
                </div>
            </section>
            <section v-show="doughnutValidationReady">
                <h2>Frequency validation</h2>
                <div class="loading-pie2">
                    <canvas id="doughnut-chart-validation"></canvas>
                </div>
            </section>
        </div>
    </main>
</div>
</body>
</html>
